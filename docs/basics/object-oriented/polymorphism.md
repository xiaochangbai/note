在第1.2章节中，我们介绍了面向对象的封装、继承和多态这三个基本特性，并且分别对封装和继承简单的举例做了说明。

这一章节中，我们针对上一章节遗留的多态性进行展开介绍。


## 什么是多态

我们先基于所有的编程语言介绍了什么是多态以及多态的分类。然后再重点介绍下Java中的多态。

多态（Polymorphism）,指为不同数据类型的实体提供统一的接口，或使用一个单一的符号来表示多个不同的类型。一般情况下，可以把多态分成以下几类：

* 特设多态：为个体的特定类型的任意集合定义一个共同接口。
* 参数多态：指定一个或多个类型不靠名字而是靠可以标识任何类型的抽象符号。
* 子类型：一个名字指称很多不同的类的实例，这些类有某个共同的超类。

### 特设多态

特设多态是程序设计语言的一种多态，多态函数有多个不同的实现，依赖于其实参而调用相应版本的函数。

上一节我们介绍过的函数重载是特设多态的一种，除此之外还有运算符重载也是特设多态的一种。


### 参数多态

参数多态在程序设计语言与类型论中是指声明与定义函数、复合类型、变量时不指定其具体的类型，而把这部分类型作为参数使用，使得该定义对各种具体类型都适用。

参数多态其实也有很广泛的应用，比如Java中的泛型就是参数多态的一种。参数多态另外一个应用比较广泛的地方就是函数式编程。

### 子类型

在面向对象程序设计中，计算机程序运行时，相同的消息可能会送给多个不同的类别之对象，而系统可依据对象所属类别，引发对应类别的方法，而有不同的行为。

这种子类型多态其实就是Java中常见的多态，下面我们针对Java中的这种子类型多态展开介绍下。

## Java中的多态

Java中的多态的概念比较简单，就是同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。

Java中多态其实是一种运行期的状态。为了实现运行期的多态，或者说是动态绑定，需要满足三个条件：

* 有类继承或者接口实现
* 子类要重写父类的方法
* 父类的引用指向子类的对象

简单来一段代码解释下：

    public class Parent{
        
        public void call(){
            sout("im Parent");
        }
    }

    public class Son extends Parent{// 1.有类继承或者接口实现
        public void call(){// 2.子类要重写父类的方法
            sout("im Son");
        }
    }

    public class Daughter extends Parent{// 1.有类继承或者接口实现
        public void call(){// 2.子类要重写父类的方法
            sout("im Daughter");
        }
    }

    public class Test{
        
        public static void main(String[] args){
            Parent p = new Son(); //3.父类的引用指向子类的对象
            Parent p1 = new Daughter(); //3.父类的引用指向子类的对象
        }
    }

这样，就实现了多态，同样是Parent类的实例，p.call 调用的是Son类的实现、p1.call调用的是Daughter的实现。

有人说，你自己定义的时候不就已经知道p是son，p1是Daughter了么。但是，有些时候你用到的对象并不都是自己声明的。

比如Spring 中的IOC出来的对象，你在使用的时候就不知道他是谁，或者说你可以不用关心他是谁。根据具体情况而定。

> IOC，是Ioc—Inversion of Control 的缩写，中文翻译成“控制反转”，它是一种设计思想，意味着将你设计好的对象交给容器控制，而不是传统的在你的对象内部直接控制。
>
> 换句话说当我们使用Spring框架的时候，对象是Spring容器创建出来并由容器进行管理，我们只需要使用就行了。

### 静态多态

上面我们说的多态，是一种运行期的概念。另外，还有一种说法，认为多态还分为动态多态和静态多态。

上面提到的那种动态绑定认为是动态多态，因为只有在运行期才能知道真正调用的是哪个类的方法。

很多人认为，还有一种静态多态，一般认为Java中的函数重载是一种静态多态，因为他需要在编译期决定具体调用哪个方法。

结合2.1章节，我们介绍过的重载和重写的相关概念，我们再来总结下重载和重写这两个概念：

1、重载是一个编译期概念、重写是一个运行期概念。

2、重载遵循所谓“编译期绑定”，即在编译时根据参数变量的类型判断应该调用哪个方法。

3、重写遵循所谓“运行期绑定”，即在运行的时候，根据引用变量所指向的实际对象的类型来调用方法。

4、Java中的方法重写是Java多态（子类型）的实现方式。而Java中的方法重写其实是特设多态的一种实现方式。